# the year to which costs should be discounted
param base_year := 2007;

# planning reserve margin - fractional extra load the system must be able able to serve
# when there are no forced outages
param planning_reserve_margin := 0.15;

# discount rate
# a 7% real discount rate was chosen as per the recommendations of the Office of Managment and Budget
# see http://www.whitehouse.gov/omb/rewrite/circulars/a094/a094.html#8 or subsequent revisions
# (inflation is not included in a real discount rate so we're discounting constant year dollars here)
param discount_rate := 0.07;

# Minimum amount of electricity that solar must produce
param min_solar_production := 0.0030;
param enable_min_solar_production := 0;

# required rates of return (real) for generators and transmission lines
param finance_rate := 0.07;
param transmission_finance_rate := 0.07;

# retirement age for transmission lines
param transmission_max_age_years := 20;

# $ cost per mw-km for transmission lines
# because transmission lines are built in one direction only and then 
# constrained to have the same capacity in both directions, this value needs to be half
# of what it would cost to install each line.. $1000 per mw per km / 2
param transmission_cost_per_mw_km := 500;

# forced outage rate for transmission lines, used for probabilistic dispatch(!)
param transmission_forced_outage_rate := 0.01;

# parameters for intra-zone transmission and distribution
# MID has a demand charge of $8.80/kW each month; this works out to $105,600/MW-year
# TODO: find a better source than this (start with E3 2004)
param local_td_annual_payment_per_mw := 100000;
param local_td_max_age_years := 20;

# forced outage rate for hydroelectric dams
# this is used to de-rate the planned power production
# TODO: get a better number for this (0.02 is made up)
param forced_outage_rate_hydro := 0.02;

# round-trip efficiency for storing power via a pumped hydro system
# Black and Veach / NREL ReEDS has this number at 0.87
param pumped_hydro_efficiency := 0.87;

# maximum share of each day's "discretionary" hydro flow 
# (everything between the minimum_hydro_flow and the average_hydro_flow) 
# that can be dispatched in a single hour
# Higher values will produce narrower, taller hydro dispatch schedules,
# but also more "baseload" hydro.
# Max_hydro_dispatch_per_hour changed to 0.5 = 0.167 * 3 for three-hourly sampling
param max_hydro_dispatch_per_hour = 0.5;

# "carrying cost" for hydro and pumped hydro facilities ($/MWp/year)
# this is calculated as 
#   $1500/kW * 1000 kW/MW * 0.061 (capital recovery factor for a 70-year project at 6% interest)
#   + 13/kW * 1000 kW/MW (fixed O&M per MW)
#   + 3.3/MWh * 8760 * 0.3 h/y (variable O&M and approx. capacity factor for CA hydro projects [0.26 for all projects, 0.35 for simple hydro])
# (this works out to about $43/MWh)
# TODO: calculate hydro costs endogenously 
#   (that will require some neat way of getting hydro plant and cost data into ampl, 
#   maybe via existing_plants.tab; that will also require adding a flag to prevent 
#   the model from trying to dispatch these plants along with the gas and coal ones) 
param hydro_annual_payment_per_mw := 113172;

# Names of intermittent and resource-limited technologies. 
param tech_ccgt := "CCGT";
param tech_combustion_turbine := "Combustion_Turbine";
param tech_distributed_pv := "Distributed_PV";
#param tech_central_station_pv := "Central_Station_PV";
param tech_csp_trough := "CSP_Trough";
param tech_wind := "Wind";
param tech_offshore_wind := "Offshore_Wind";
param tech_biomass_igcc := "Biomass_IGCC";
param tech_bio_gas := "Bio_Gas";
param fuel_hydro := "Water";

# All of the solar technologies. If you change what they are called in the section immediately above, change them here too.
set SOLAR_TECHNOLOGIES := Distributed_PV CSP_Trough;

# default values for projects that don't have sites or orientations
param site_unspecified := "na";
param configuration_unspecified := "na";

# cost of carbon emissions ($/tonneCO2)
param carbon_cost;
# Set this to more than one value if you want to run the carbon curve scripty thing
# Leave the following line at the end of the file, or you'll get syntax errors.
#let CARBON_COSTS := {0, 500};
let CARBON_COSTS := {0, 30, 50};
